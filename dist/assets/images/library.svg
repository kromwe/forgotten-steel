<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Detailed crosshatching for books and shadows -->
    <pattern id="bookSpines" patternUnits="userSpaceOnUse" width="6" height="20">
      <rect width="6" height="20" fill="#d8d8d8"/>
      <rect x="0" y="0" width="2" height="20" fill="#c0c0c0"/>
      <rect x="2" y="0" width="2" height="20" fill="#e0e0e0"/>
      <rect x="4" y="0" width="2" height="20" fill="#b8b8b8"/>
      <path d="M0,5 L6,5 M0,10 L6,10 M0,15 L6,15" stroke="#999" stroke-width="0.3"/>
    </pattern>
    
    <pattern id="crosshatch" patternUnits="userSpaceOnUse" width="4" height="4">
      <path d="M0,0 L4,4 M0,4 L4,0" stroke="#555" stroke-width="0.4" opacity="0.3"/>
    </pattern>
    
    <pattern id="woodGrain" patternUnits="userSpaceOnUse" width="8" height="12">
      <rect width="8" height="12" fill="#e8e0d0"/>
      <path d="M0,3 Q4,2 8,3 M0,6 Q4,7 8,6 M0,9 Q4,8 8,9" stroke="#d0c8b8" stroke-width="0.5" fill="none"/>
    </pattern>
    
    <!-- Atmospheric lighting -->
    <radialGradient id="candleGlow" cx="50%" cy="30%" r="70%">
      <stop offset="0%" stop-color="#ffffff"/>
      <stop offset="30%" stop-color="#f8f8f8"/>
      <stop offset="70%" stop-color="#d0d0d0"/>
      <stop offset="100%" stop-color="#404040"/>
    </radialGradient>
    
    <linearGradient id="shelfGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#f0f0f0"/>
      <stop offset="50%" stop-color="#c8c8c8"/>
      <stop offset="100%" stop-color="#888888"/>
    </linearGradient>
  </defs>
  
  <!-- Background with candlelight atmosphere -->
  <rect width="800" height="600" fill="url(#candleGlow)"/>
  
  <!-- Ancient library walls -->
  <g fill="url(#shelfGradient)" stroke="#444" stroke-width="2">
    <!-- Left wall -->
    <rect x="0" y="0" width="150" height="600" fill="#e8e8e8"/>
    
    <!-- Right wall -->
    <rect x="650" y="0" width="150" height="600" fill="#e8e8e8"/>
    
    <!-- Back wall -->
    <rect x="150" y="0" width="500" height="200" fill="#d8d8d8"/>
  </g>
  
  <!-- Massive floor-to-ceiling bookshelves -->
  <g>
    <!-- Left bookshelf structure -->
    <g fill="url(#woodGrain)" stroke="#666" stroke-width="2">
      <!-- Shelf frames -->
      <rect x="20" y="50" width="120" height="500" fill="#d0c8b0"/>
      
      <!-- Individual shelf boards -->
      <rect x="25" y="100" width="110" height="8" fill="#c8c0a8" stroke="#999"/>
      <rect x="25" y="180" width="110" height="8" fill="#c8c0a8" stroke="#999"/>
      <rect x="25" y="260" width="110" height="8" fill="#c8c0a8" stroke="#999"/>
      <rect x="25" y="340" width="110" height="8" fill="#c8c0a8" stroke="#999"/>
      <rect x="25" y="420" width="110" height="8" fill="#c8c0a8" stroke="#999"/>
      <rect x="25" y="500" width="110" height="8" fill="#c8c0a8" stroke="#999"/>
    </g>
    
    <!-- Books on left shelves -->
    <g>
      <!-- Top shelf books -->
      <rect x="30" y="60" width="100" height="35" fill="url(#bookSpines)"/>
      <rect x="30" y="60" width="15" height="35" fill="#a8a8a8" stroke="#777" stroke-width="0.5"/>
      <rect x="45" y="60" width="12" height="35" fill="#c0c0c0" stroke="#777" stroke-width="0.5"/>
      <rect x="57" y="60" width="18" height="35" fill="#b0b0b0" stroke="#777" stroke-width="0.5"/>
      <rect x="75" y="60" width="14" height="35" fill="#d0d0d0" stroke="#777" stroke-width="0.5"/>
      <rect x="89" y="60" width="16" height="35" fill="#a0a0a0" stroke="#777" stroke-width="0.5"/>
      <rect x="105" y="60" width="13" height="35" fill="#c8c8c8" stroke="#777" stroke-width="0.5"/>
      <rect x="118" y="60" width="12" height="35" fill="#b8b8b8" stroke="#777" stroke-width="0.5"/>
      
      <!-- Second shelf books -->
      <rect x="30" y="110" width="100" height="65" fill="url(#bookSpines)"/>
      <rect x="30" y="110" width="20" height="65" fill="#888888" stroke="#555" stroke-width="0.5"/>
      <rect x="50" y="110" width="16" height="65" fill="#b8b8b8" stroke="#555" stroke-width="0.5"/>
      <rect x="66" y="110" width="22" height="65" fill="#a0a0a0" stroke="#555" stroke-width="0.5"/>
      <rect x="88" y="110" width="18" height="65" fill="#d8d8d8" stroke="#555" stroke-width="0.5"/>
      <rect x="106" y="110" width="14" height="65" fill="#c0c0c0" stroke="#555" stroke-width="0.5"/>
      <rect x="120" y="110" width="10" height="65" fill="#909090" stroke="#555" stroke-width="0.5"/>
    </g>
    
    <!-- Right bookshelf structure -->
    <g fill="url(#woodGrain)" stroke="#666" stroke-width="2">
      <!-- Shelf frames -->
      <rect x="660" y="50" width="120" height="500" fill="#d0c8b0"/>
      
      <!-- Individual shelf boards -->
      <rect x="665" y="100" width="110" height="8" fill="#c8c0a8" stroke="#999"/>
      <rect x="665" y="180" width="110" height="8" fill="#c8c0a8" stroke="#999"/>
      <rect x="665" y="260" width="110" height="8" fill="#c8c0a8" stroke="#999"/>
      <rect x="665" y="340" width="110" height="8" fill="#c8c0a8" stroke="#999"/>
      <rect x="665" y="420" width="110" height="8" fill="#c8c0a8" stroke="#999"/>
      <rect x="665" y="500" width="110" height="8" fill="#c8c0a8" stroke="#999"/>
    </g>
    
    <!-- Books on right shelves -->
    <g>
      <!-- Top shelf books -->
      <rect x="670" y="60" width="100" height="35" fill="url(#bookSpines)"/>
      <rect x="670" y="60" width="17" height="35" fill="#a8a8a8" stroke="#777" stroke-width="0.5"/>
      <rect x="687" y="60" width="13" height="35" fill="#c0c0c0" stroke="#777" stroke-width="0.5"/>
      <rect x="700" y="60" width="19" height="35" fill="#b0b0b0" stroke="#777" stroke-width="0.5"/>
      <rect x="719" y="60" width="15" height="35" fill="#d0d0d0" stroke="#777" stroke-width="0.5"/>
      <rect x="734" y="60" width="18" height="35" fill="#a0a0a0" stroke="#777" stroke-width="0.5"/>
      <rect x="752" y="60" width="11" height="35" fill="#c8c8c8" stroke="#777" stroke-width="0.5"/>
      <rect x="763" y="60" width="7" height="35" fill="#b8b8b8" stroke="#777" stroke-width="0.5"/>
    </g>
  </g>
  
  <!-- Central reading area with ornate table -->
  <g>
    <!-- Wooden reading table -->
    <g fill="url(#woodGrain)" stroke="#555" stroke-width="2">
      <!-- Table top -->
      <ellipse cx="400" cy="400" rx="120" ry="60" fill="#d8d0c0"/>
      <ellipse cx="400" cy="395" rx="115" ry="55" fill="#e0d8c8"/>
      
      <!-- Table legs -->
      <ellipse cx="320" cy="450" rx="8" ry="40" fill="#c0b8a8"/>
      <ellipse cx="480" cy="450" rx="8" ry="40" fill="#c0b8a8"/>
      <ellipse cx="360" cy="460" rx="6" ry="35" fill="#c0b8a8"/>
      <ellipse cx="440" cy="460" rx="6" ry="35" fill="#c0b8a8"/>
    </g>
    
    <!-- Open books and scrolls on table -->
    <g>
      <!-- Large open tome -->
      <ellipse cx="380" cy="390" rx="40" ry="25" fill="#f8f8f8" stroke="#888" stroke-width="1"/>
      <ellipse cx="380" cy="385" rx="35" ry="20" fill="#ffffff"/>
      <path d="M345,385 Q380,375 415,385" fill="none" stroke="#ccc" stroke-width="1"/>
      
      <!-- Text lines on pages -->
      <g stroke="#999" stroke-width="0.5">
        <path d="M350,380 L370,380 M350,385 L375,385 M350,390 L365,390"/>
        <path d="M385,380 L410,380 M385,385 L405,385 M385,390 L400,390"/>
      </g>
      
      <!-- Scroll -->
      <ellipse cx="430" cy="400" rx="15" ry="8" fill="#f0f0e8" stroke="#bbb" stroke-width="1"/>
      <circle cx="415" cy="400" r="3" fill="#d0d0c8" stroke="#999"/>
      <circle cx="445" cy="400" r="3" fill="#d0d0c8" stroke="#999"/>
    </g>
  </g>
  
  <!-- Ornate candelabra with detailed metalwork -->
  <g transform="translate(200,250)">
    <!-- Base -->
    <ellipse cx="0" cy="20" rx="15" ry="8" fill="#888" stroke="#444" stroke-width="2"/>
    <ellipse cx="0" cy="15" rx="12" ry="6" fill="#aaa"/>
    
    <!-- Stem -->
    <rect x="-3" y="-30" width="6" height="45" fill="#999" stroke="#555" stroke-width="1"/>
    
    <!-- Candle holders -->
    <g>
      <ellipse cx="-15" cy="-25" rx="4" ry="3" fill="#777" stroke="#444"/>
      <ellipse cx="0" cy="-30" rx="4" ry="3" fill="#777" stroke="#444"/>
      <ellipse cx="15" cy="-25" rx="4" ry="3" fill="#777" stroke="#444"/>
    </g>
    
    <!-- Candles and flames -->
    <g>
      <!-- Left candle -->
      <rect x="-17" y="-35" width="4" height="12" fill="#f8f8f0" stroke="#ddd"/>
      <path d="M-17,-40 Q-15,-45 -13,-40 Q-14,-42 -15,-41 Q-16,-42 -17,-40" fill="url(#crosshatch)" stroke="#888"/>
      
      <!-- Center candle -->
      <rect x="-2" y="-40" width="4" height="12" fill="#f8f8f0" stroke="#ddd"/>
      <path d="M-2,-45 Q0,-50 2,-45 Q1,-47 0,-46 Q-1,-47 -2,-45" fill="url(#crosshatch)" stroke="#888"/>
      
      <!-- Right candle -->
      <rect x="13" y="-35" width="4" height="12" fill="#f8f8f0" stroke="#ddd"/>
      <path d="M13,-40 Q15,-45 17,-40 Q16,-42 15,-41 Q14,-42 13,-40" fill="url(#crosshatch)" stroke="#888"/>
    </g>
  </g>
  
  <!-- Atmospheric shadows and lighting -->
  <g fill="#333" opacity="0.4">
    <!-- Bookshelf shadows -->
    <rect x="140" y="100" width="20" height="450"/>
    <rect x="640" y="100" width="20" height="450"/>
    
    <!-- Table shadow -->
    <ellipse cx="410" cy="480" rx="100" ry="40" opacity="0.3"/>
  </g>
  
  <!-- Detailed texture overlays -->
  <g fill="url(#crosshatch)" opacity="0.1">
    <rect x="0" y="300" width="800" height="300"/>
  </g>
  
  <!-- Architectural highlights -->
  <g fill="none" stroke="#fff" stroke-width="1" opacity="0.5">
    <!-- Bookshelf highlights -->
    <path d="M25,50 L25,550"/>
    <path d="M665,50 L665,550"/>
    
    <!-- Table highlights -->
    <ellipse cx="395" cy="390" rx="110" ry="50" opacity="0.3"/>
  </g>
</svg>
